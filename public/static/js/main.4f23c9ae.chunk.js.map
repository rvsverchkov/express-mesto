{"version":3,"sources":["components/header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/main/Main.js","components/footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/imagePopup/ImagePopup.js","utils/Api.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","logoLink","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","alreadyLiked","currentCard","likes","some","card","alt","title","onClick","onCardClick","type","onCardDelete","onCardLike","count","Main","style","background","avatar","onEditAvatar","name","onEditProfile","about","onAddPlace","initialCards","map","i","key","link","length","popup","onDeleteCard","Footer","PopupWithForm","checkOpen","closePopup","close","method","onSubmit","submitForm","action","formPopup","noValidate","children","submit","ImagePopup","onClose","api","baseUrl","headers","cohort","this","fetch","then","res","ok","json","Promise","reject","status","body","JSON","stringify","url","place","currentCardId","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","isOpen","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","id","minLength","maxLength","required","EditAvatarPopup","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setPlace","setLink","App","isEditProfileOpened","setEditProfileOpened","isEditAvatarOpened","setEditAvatarOpened","isAddPlaceOpened","setAddPlaceOpened","isDeleteCardOpened","setDeleteCardOpened","selectedCard","setSelectedCard","initialCardsArray","setInitialCardsArray","setCurrentUser","closeAllPopups","getUserInfo","values","catch","console","error","all","getInitialCards","userData","Provider","unsetLikeOnCard","newCard","newCards","c","setLikeOnCard","cardToDelete","removeMyCard","filter","oldCard","object","patchUserInfo","patchUserPhoto","addNewCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4f23c9ae.chunk.js","sourcesContent":["import React from 'react';\r\nimport logoLink from '../../images/logo.svg';\r\n\r\nfunction Header () {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__logo\" src={logoLink}></div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\r\n\r\nfunction Card (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.owner === currentUser._id;\r\n    const alreadyLiked = props.currentCard.likes.some((card) => card._id === currentUser._id)\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.currentCard);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.currentCard);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.currentCard)\r\n    }\r\n\r\n    return (\r\n        <div className='card'>\r\n            <div className='card'>\r\n                <img className='card__picture' src={`${props.src}`} alt={`${props.title}`} onClick={handleClick}></img>\r\n                {isOwn ? (\r\n                    <button type='button' className='card__trash' onClick={handleDeleteClick}></button>\r\n                ) : ('')}\r\n                <div className='card__title'>\r\n                    <h3 className='card__text'>{props.title}</h3>\r\n                    <div className='card__like-container'>\r\n                        <button type='button' className={alreadyLiked ? `card__like card__like_active`:`card__like`} onClick={handleLikeClick}></button>\r\n                        <p className='card__like-count'>{props.count}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from '../Card/Card.js';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\r\n\r\nfunction Main (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\" style={{ background: `url('${currentUser.avatar}') 0 / 100%`}}>\r\n                    <div className=\"profile__overlay\" onClick={props.onEditAvatar}></div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__text\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\r\n                    </div>\r\n                    <p className=\"profile__activity\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section className=\"elements\">\r\n                {props.initialCards.map((card, i) => <Card\r\n                    owner={card.owner._id}\r\n                    currentCard={card}\r\n                    key={card._id} //Добавил ._id для карточки\r\n                    src={`${card.link}`}\r\n                    title={`${card.name}`}\r\n                    count={`${card.likes.length}`}\r\n                    popup={props.onDeleteCard}\r\n                    onCardClick={props.onCardClick}\r\n                    onCardLike={props.onCardLike}\r\n                    onCardDelete={props.onCardDelete}\r\n                />)}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer () {\r\n    return (\r\n        <footer>\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm (props) {\r\n    return (\r\n        <section className={`popup ${props.checkOpen ? 'popup_opened' : ''} popup_${props.name}`}>\r\n            <div className='popup__container'>\r\n                <button type='button' onClick={props.closePopup} className={`popup__close popup__${props.close}`} />\r\n                <h3 className='popup__edit-title'>{props.title}</h3>\r\n                <form name={`${props.name}`} method={`${props.method}`} onSubmit={props.submitForm} action='/' className={`popup__form popup__${props.formPopup}`} noValidate>\r\n                    {props.children}\r\n                    <button type='sumbit' className='popup__save'>{props.submit}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup (props) {\r\n    return (\r\n        <section className={`popup ${props.currentCard ? 'popup_opened' : ''} popup_preview`}>\r\n            <div className=\"popup__preview-container\">\r\n                <img className=\"popup__picture\" src={`${props.currentCard ? props.currentCard.link : ''}`} alt={`${props.currentCard ? props.currentCard.name : ''}`} />\r\n                <h3 className=\"popup__description\">{props.currentCard ? props.currentCard.name : ''}</h3>\r\n                <button type=\"button\" className=\"popup__close popup__close-preview\" onClick={props.onClose} />\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor({ baseUrl, headers, cohort }) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n        this.cohort = cohort;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/cards`, { \r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/users/me`, { \r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n\r\n    patchUserInfo(name, about) {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n\r\n    patchUserPhoto(url) {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: url\r\n            })\r\n        })\r\n            .then(res => { //Добавил обработку ошибок\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n\r\n    addNewCard(place, link) {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/cards`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: place,\r\n                link: link\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n\r\n    setLikeOnCard(currentCardId) {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/cards/likes/${currentCardId}`, {\r\n            method: 'PUT',\r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n\r\n    unsetLikeOnCard(currentCardId) {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/cards/likes/${currentCardId}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n\r\n    removeMyCard(currentCardId) {\r\n        return fetch(`${this.baseUrl}v1/cohort-14/cards/${currentCardId}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(`Ошибка: ${res.status}`);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/',\r\n    headers: {\r\n        authorization: '63c8231e-4dd4-48bc-b700-4bf0fbfba0d6',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default api;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser])\r\n\r\n    return (\r\n        <PopupWithForm\r\n            closePopup={props.onClose}\r\n            checkOpen={props.isOpen}\r\n            submitForm={handleSubmit}\r\n            name='edit-profile'\r\n            close='close-edit'\r\n            method='PATCH'\r\n            title='Редактировать профиль'\r\n            formPopup='form-edit'\r\n            submit='Сохранить'\r\n        >\r\n            <input\r\n                onChange={handleNameChange}\r\n                value={name}\r\n                name=\"name\"\r\n                type=\"text\"\r\n                placeholder=\"Ваше имя\"\r\n                className=\"popup__input popup__input_type_name\"\r\n                id=\"name-input\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                required\r\n            />\r\n            <input\r\n                onChange={handleDescriptionChange}\r\n                value={description}\r\n                name=\"activity\" \r\n                type=\"text\" \r\n                placeholder=\"Ваша работа\" \r\n                className=\"popup__input popup__input_type_name\" \r\n                id=\"name-input\" \r\n                minLength=\"2\" \r\n                maxLength=\"40\" \r\n                required \r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup (props) {\r\n\r\n    const avatar = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(avatar.current.value)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        avatar.current.value = '';\r\n    }, [])\r\n\r\n    return (\r\n        <PopupWithForm\r\n            closePopup={props.onClose}\r\n            checkOpen={props.isOpen}\r\n            submitForm={handleSubmit}\r\n            name='update-photo'\r\n            close='close-update'\r\n            title='Обновить аватар'\r\n            method='PATCH'\r\n            formPopup='form-update'\r\n            submit='Обновить'\r\n        >\r\n            <input\r\n                ref={avatar}\r\n                name=\"url\" \r\n                type=\"text\" \r\n                placeholder=\"URL вашего нового аватара\" \r\n                className=\"popup__input popup__input_type_url\" \r\n                id=\"url-input\" \r\n                minLength=\"2\" \r\n                maxLength=\"40\" \r\n                required\r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\n\r\nfunction AddPlacePopup (props) {\r\n\r\n    const [place, setPlace] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handlePlaceChange(e) {\r\n        setPlace(e.target.value);\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace(place, link);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            closePopup={props.onClose}\r\n            checkOpen={props.isOpen}\r\n            submitForm={handleSubmit}\r\n            name='create-card'\r\n            close='close-add'\r\n            title='Новое место'\r\n            formPopup='form-add'\r\n            submit='Создать'\r\n        >\r\n            <input\r\n                onChange={handlePlaceChange}\r\n                value={place}\r\n                name=\"place\" \r\n                type=\"text\" \r\n                placeholder=\"Название\" \r\n                className=\"popup__input popup__input_type_place\" \r\n                id=\"place-input\" \r\n                minLength=\"1\" \r\n                maxLength=\"30\" \r\n                required \r\n            />\r\n            <input\r\n                onChange={handleLinkChange}\r\n                value={link}\r\n                name=\"link\" \r\n                type=\"url\" \r\n                placeholder=\"Ссылка на картинку\" \r\n                className=\"popup__input popup__input_type_link\" \r\n                id=\"link-input\" \r\n                required \r\n            />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React, { useState, useEffect } from 'react';\r\nimport Header from './header/Header.js';\r\nimport Main from './main/Main.js';\r\nimport Footer from './footer/Footer.js';\r\nimport PopupWithForm from './PopupWithForm/PopupWithForm.js';\r\nimport ImagePopup from './imagePopup/ImagePopup.js';\r\nimport api from '../utils/Api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.js';\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfileOpened, setEditProfileOpened] = useState(false);\r\n  const [isEditAvatarOpened, setEditAvatarOpened] = useState(false);\r\n  const [isAddPlaceOpened, setAddPlaceOpened] = useState(false);\r\n  const [isDeleteCardOpened, setDeleteCardOpened] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [initialCardsArray, setInitialCardsArray] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: '',\r\n    about: '',\r\n    avatar: ''\r\n  })\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarOpened(!isEditAvatarOpened);\r\n  }\r\n\r\n  const handleEditProfileClick = () => {\r\n    setEditProfileOpened(!isEditProfileOpened);\r\n  }\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlaceOpened(!isAddPlaceOpened);\r\n  }\r\n\r\n  const handleDeleteCardClick = () => {\r\n    setDeleteCardOpened(!isDeleteCardOpened)\r\n  }\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    if (isLiked) {\r\n        return api.unsetLikeOnCard(card._id)\r\n        .then((newCard) => {\r\n            const newCards = initialCardsArray.map((c) => c._id === card._id ? newCard : c);\r\n            setInitialCardsArray(newCards);\r\n        })\r\n        .catch(() => { //Добавил обработку ошибок\r\n          console.error('error')\r\n        })\r\n    } else {\r\n        return api.setLikeOnCard(card._id)\r\n        .then((newCard) => {\r\n        const newCards = initialCardsArray.map((c) => (c._id === card._id ? newCard : c));\r\n        setInitialCardsArray(newCards);\r\n        })\r\n        .catch(() => { //Добавил обработку ошибок\r\n          console.error('error')\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleCardDelete = (cardToDelete) => {\r\n    api.removeMyCard(cardToDelete._id)\r\n    .then(() => {\r\n      setInitialCardsArray(\r\n        initialCardsArray.filter((oldCard) => {\r\n          return oldCard._id !== cardToDelete._id\r\n        })\r\n      )\r\n      closeAllPopups();\r\n    })\r\n    .catch(() => { //Добавил обработку ошибок\r\n      console.error('error')\r\n    })\r\n  }\r\n\r\n  const handleUpdateUser = (object) => {\r\n    api.patchUserInfo(object.name, object.about)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch(() => { //Добавил обработку ошибок\r\n      console.error('error')\r\n    })\r\n  }\r\n\r\n  const handleUpdateAvatar = (url) => {\r\n    api.patchUserPhoto(url)\r\n    .then(() => {\r\n      setCurrentUser({\r\n        ...currentUser,\r\n        avatar: url\r\n      });\r\n      closeAllPopups();\r\n    })\r\n    .catch(() => { //Добавил обработку ошибок\r\n      console.error('error')\r\n    })\r\n  }\r\n\r\n  const handleAddPlace = (place, link) => {\r\n    api.addNewCard(place, link)\r\n    .then((res) => {\r\n      setInitialCardsArray([res, ...initialCardsArray]);\r\n      closeAllPopups(); //Перенес закрытие Popup'а в .then\r\n    })\r\n    .catch(() => { //Добавил обработку ошибок\r\n      console.error('error')\r\n    })\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setEditProfileOpened(false);\r\n    setEditAvatarOpened(false);\r\n    setAddPlaceOpened(false);\r\n    setDeleteCardOpened(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.getUserInfo()\r\n    .then((values) => {\r\n      setCurrentUser(values);\r\n    })\r\n    .catch(() => { //Добавил обработку ошибок\r\n      console.error('error')\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n        api.getUserInfo(),\r\n        api.getInitialCards()\r\n    ])\r\n        .then((values) => {\r\n            const [userData, initialCards] = values;\r\n            setInitialCardsArray(initialCards);\r\n            setCurrentUser(userData);\r\n        })\r\n        .catch(() => { //Добавил обработку ошибок\r\n          console.error('error')\r\n        })\r\n  }, [])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"main-page\">\r\n        <div className=\"page\">\r\n          <Header />\r\n          <Main \r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            initialCards={initialCardsArray}\r\n          />\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfileOpened} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n          <EditAvatarPopup isOpen={isEditAvatarOpened} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n          <AddPlacePopup isOpen={isAddPlaceOpened} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\r\n          <PopupWithForm\r\n            closePopup={closeAllPopups}\r\n            checkOpen={isDeleteCardOpened}\r\n            name='delete-card'\r\n            close='close-delete'\r\n            title='Вы уверены ?'\r\n            method='PATCH'\r\n            formPopup='form-update'\r\n            submit='Да'\r\n          >\r\n          </PopupWithForm>\r\n          <ImagePopup\r\n            onClose={closeAllPopups}\r\n            currentCard={selectedCard}\r\n          >\r\n          </ImagePopup>\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}